<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>JP Train Station</title>
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha512-sA+4Z1W96gQ87XZy4V/mQJu1nvLKYj1WFJsbgx5caX5/C/POb44IVdQydb9h9NP7VDaRaoTyIhiikmTDdSqaLQ=="
      crossorigin=""
    >
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css"
    >
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css"
    >
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <a class="skip-link" href="#stationPanel">Skip to station details</a>
    <div id="map" class="map" role="application" aria-label="Interactive map of Japan"></div>
    <div class="map-overlay top" role="search">
      <div class="brand">JP Train Station</div>
      <form id="stationSearch" class="search" autocomplete="off">
        <label class="sr-only" for="stationQuery">Search for a station</label>
        <input
          id="stationQuery"
          name="stationQuery"
          type="search"
          placeholder="Search for a station"
          inputmode="search"
          list="stationSuggestions"
          aria-describedby="searchHint"
        >
        <datalist id="stationSuggestions"></datalist>
        <button class="btn" type="submit" aria-label="Search stations">Search</button>
      </form>
      <p id="searchHint" class="search-hint">Zoom and tap markers or search by name to explore stations.</p>
    </div>
    <section id="stationPanel" class="station-panel" aria-live="polite">
      <header class="panel-header">
        <h1 id="stationName">Explore Japan's railways</h1>
        <p id="stationSummary">Use the map or search above to find a station and listen to its melodies.</p>
      </header>
      <dl class="station-meta">
        <div>
          <dt>Platforms</dt>
          <dd id="stationPlatforms">—</dd>
        </div>
        <div>
          <dt>Served lines</dt>
          <dd id="stationLines">—</dd>
        </div>
      </dl>
      <section class="audio" aria-label="Station melodies">
        <h2>Station melodies</h2>
        <p id="audioStatus" class="audio-status">Select a station to unlock its arrival and departure tunes.</p>
        <div class="audio-controls">
          <button id="playArrival" class="btn audio-btn" type="button" disabled>
            <span class="play">Play arrival</span>
            <span class="pause">Pause</span>
          </button>
          <button id="playDeparture" class="btn audio-btn" type="button" disabled>
            <span class="play">Play departure</span>
            <span class="pause">Pause</span>
          </button>
          <button id="stop" class="btn" type="button" disabled>Stop</button>
        </div>
        <audio id="melodyPlayer" preload="auto" tabindex="-1"></audio>
      </section>
    </section>
    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha512-pIqFQJQGsi9h9uKXuX4nHCqB6Sm+GO6zkRgZNpmj12E7YQDdyCjTiMQuu2cEGoVYLRNvKcJsteUmsA2xZr3G3g=="
      crossorigin=""
      defer
    ></script>
    <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js" defer></script>
    <script src="app.js" type="module" defer></script>
  </body>
</html>
